#!/bin/sh

# Sync my dotfiles into the dotfiles repo
unset DOTFILES
DOTFILES="$DOTFILES $HOME/.config/kitty"
DOTFILES="$DOTFILES $HOME/.config/local/waybar*"
DOTFILES="$DOTFILES $HOME/.config/local/wb_*"
DOTFILES="$DOTFILES $HOME/.config/niri/config.kdl"
DOTFILES="$DOTFILES $HOME/.config/niri/scripts"
DOTFILES="$DOTFILES $HOME/.config/nvim"
DOTFILES="$DOTFILES $HOME/.config/shell/merdely.profile"
DOTFILES="$DOTFILES $HOME/.config/systemd/user/swaybg.service"
DOTFILES="$DOTFILES $HOME/.config/systemd/user/swayidle.service"
DOTFILES="$DOTFILES $HOME/.config/systemd/user/syncthingtray.service"
DOTFILES="$DOTFILES $HOME/.config/systemd/user/wl-paste.service"
DOTFILES="$DOTFILES $HOME/.config/systemd/user/wm-session.target"
DOTFILES="$DOTFILES $HOME/.config/tmux/tmux.conf"
DOTFILES="$DOTFILES $HOME/.config/vim/vimrc"
DOTFILES="$DOTFILES $HOME/.config/waybar"
DOTFILES="$DOTFILES $HOME/.config/wleave"

DOTFILES="$DOTFILES $HOME/.bashrc"

DOTFILES="$DOTFILES $HOME/.local/bin/gen-wm-help"
DOTFILES="$DOTFILES $HOME/.local/bin/play_pause_media.sh"
DOTFILES="$DOTFILES $HOME/.local/bin/rofi-launcher"
DOTFILES="$DOTFILES $HOME/.local/bin/rofi-powermenu"
DOTFILES="$DOTFILES $HOME/.local/bin/rofi-windows"
DOTFILES="$DOTFILES $HOME/.local/bin/run-app-toggle"
DOTFILES="$DOTFILES $HOME/.local/bin/run_ssh_add"
DOTFILES="$DOTFILES $HOME/.local/bin/run_terminal"
DOTFILES="$DOTFILES $HOME/.local/bin/run_wleave"
DOTFILES="$DOTFILES $HOME/.local/bin/view-cheatsheet"
DOTFILES="$DOTFILES $HOME/.local/bin/view-wm-help"
DOTFILES="$DOTFILES $HOME/.local/bin/wm-closeapps"
DOTFILES="$DOTFILES $HOME/.local/bin/wm-minimize"
DOTFILES="$DOTFILES $HOME/.local/bin/yad-askpass"

DOTFILES="$DOTFILES /srv/scripts/bin/tmux_groupssh"
DOTFILES="$DOTFILES /srv/scripts/bin/tmux_reorder"
DOTFILES="$DOTFILES /srv/scripts/bin/tmux_winsplit"
DOTFILES="$DOTFILES /srv/scripts/bin/sudo_with_sudoedit"

dest_dir=$(dirname "$(realpath "$0")")

for dotfile in $DOTFILES; do
  relative_path=${dotfile/$HOME/}
  mkdir -p "$dest_dir""$(dirname "$relative_path")"
  rsync -a --info=NAME "$dotfile" "$dest_dir""$(dirname "$relative_path")"
done
