#!/bin/bash

usage () {
  echo "usage: $(basename $0) [-h] DIR"
  echo "       DIRECTION : Up, Down, Right, Left"
  exit $1
}

[ "$1" = "-h" -o "$1" = "--help" ] && usage
if [[ ! ${1^^} =~ ^(UP|DOWN|LEFT|RIGHT|ULDR|URDL|DLUR|DRUL)$ ]]; then
  usage 1
fi

if [[ "$XDG_CURRENT_DESKTOP" =~ ^niri ]]; then
  if [[ ${1^^} = UP ]]; then
    niri msg action focus-workspace-up
  elif [[ ${1^^} = DOWN ]]; then
    niri msg action focus-workspace-down
  elif [[ ${1^^} = LEFT ]]; then
    niri msg action focus-column-left
  elif [[ ${1^^} = RIGHT ]]; then
    niri msg action focus-column-right
  elif [[ ${1^^} = ULDR ]]; then
    niri msg action maximize-column
  elif [[ ${1^^} = URDL ]]; then
    niri msg action close-window
  elif [[ ${1^^} = DRUL ]]; then
    niri msg action toggle-overview
  elif [[ ${1^^} = DLUR ]]; then
    true
  fi

#elif [[ "$XDG_CURRENT_DESKTOP" =~ ^sway ]]; then
#elif [[ "$XDG_CURRENT_DESKTOP" = Hyprland ]]; then
else
  echo "Error: Window manager not supported"
  exit 1
fi

