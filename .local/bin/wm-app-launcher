#!/bin/sh

[ -r $XDG_CONFIG_HOME/app-launcher.conf ] && source $XDG_CONFIG_HOME/app-launcher.conf

rofi_launcher() {
  rofi -combi-modi drun,run -modi combi -show combi -display-combi "App Launcher >" "$*"
}

if [ "$app_launcher" = fuzzel ]; then
  #run-app-toggle fuzzel
  pgrep -u $LOGNAME -f "^fuzzel -p App Launcher > " && \
    pkill -u $LOGNAME -f "^fuzzel -p App Launcher > " || \
    fuzzel -p "App Launcher > "
else
  pgrep -u $LOGNAME -f "^rofi -combi-modi drun,run -modi combi -show combi -display-combi Application Launcher" && \
    pkill -u $LOGNAME -f "^rofi -combi-modi drun,run -modi combi -show combi -display-combi Application Launcher" || \
    rofi_launcher $*
fi
